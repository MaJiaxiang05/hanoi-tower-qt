# 汉诺塔游戏项目 - 任务描述书

## 📋 项目概述

### 项目名称
**汉诺塔游戏（Tower of Hanoi Game）**

### 项目目标
开发一个功能完整的汉诺塔益智游戏，支持自动演示最佳路径和用户手动操作两种模式，帮助用户理解递归算法的经典应用。

### 开发环境要求
- **编程语言**: C++（C++11及以上标准）
- **开发工具**: CodeBlocks / Qt Creator / Visual Studio
- **图形界面**: Qt框架（可选：控制台版本）
- **操作系统**: Windows/Linux/macOS 跨平台支持

## 🎯 功能需求

### 1. 核心功能要求

#### 1.1 演示最佳路径功能 ⭐⭐⭐
- **算法实现**: 使用递归算法生成汉诺塔问题的最优解
- **步骤显示**: 逐步展示每一步移动过程
- **数学验证**: 确保步数为 2^n - 1（n为盘子数量）
- **可控播放**: 支持开始、暂停、停止、继续操作
- **速度调节**: 提供多档演示速度选择（1-10档）
- **进度显示**: 实时显示演示进度

#### 1.2 用户手动操作功能 ⭐⭐⭐
- **交互方式**: 
  - 控制台版本：键盘输入（A B表示从A柱移动到B柱）
  - Qt版本：鼠标点击或拖拽操作
- **规则验证**: 自动检查移动的合法性
  - 只能移动柱子顶部的盘子
  - 大盘子不能放在小盘子上面
  - 一次只能移动一个盘子
- **错误提示**: 友好的错误信息提示
- **操作撤销**: 支持撤销上一步操作（可选）

#### 1.3 游戏状态管理 ⭐⭐
- **初始化**: 将所有盘子按大小顺序放在第一根柱子上
- **状态显示**: 实时显示三根柱子的当前状态
- **胜利检测**: 自动检测游戏是否完成
- **游戏重置**: 支持随时重新开始游戏
- **步数统计**: 记录和显示当前移动步数

### 2. 界面要求

#### 2.1 控制台版本界面 ⭐⭐
- **游戏状态显示**: 
  ```
  柱子 A: [3,2,1]
  柱子 B: [空]
  柱子 C: [空]
  ```
- **菜单系统**: 
  - 手动移动
  - 开始演示
  - 重置游戏
  - 查看帮助
  - 退出游戏
- **信息显示**: 当前步数、最优步数对比

#### 2.2 Qt图形界面版本 ⭐⭐⭐
- **游戏区域**: 图形化显示三根柱子和盘子
- **控制面板**: 包含所有操作按钮
- **信息面板**: 显示游戏统计信息
- **日志面板**: 显示操作历史记录
- **美观设计**: 
  - 盘子使用不同颜色和渐变效果
  - 柱子具有3D立体效果
  - 平滑的移动动画

### 3. 游戏设置

#### 3.1 难度设置 ⭐⭐
- **盘子数量**: 支持1-10个盘子的选择
- **默认设置**: 默认3个盘子（适合初学者）
- **动态调整**: 可在游戏过程中调整设置

#### 3.2 演示设置 ⭐
- **速度控制**: 演示速度可调（慢速、中速、快速）
- **单步执行**: 支持单步查看演示过程
- **跳转功能**: 可跳转到特定步骤

## 🏗️ 技术要求

### 1. 架构设计

#### 1.1 设计模式 ⭐⭐⭐
- **MVC架构**: 
  - Model: 游戏逻辑类（HanoiTower/HanoiGame）
  - View: 显示类（MainWindow/GameDisplay）
  - Controller: 控制器类（GameController）
- **面向对象**: 合理的类设计和职责分工
- **低耦合**: 各模块之间松耦合设计

#### 1.2 核心算法 ⭐⭐⭐
- **递归实现**: 经典汉诺塔递归算法
- **算法验证**: 确保生成的解法为最优解
- **效率考虑**: 对于大数量盘子的性能优化

### 2. 代码质量

#### 2.1 编码规范 ⭐⭐
- **命名规范**: 使用有意义的变量和函数名
- **注释完整**: 关键算法和复杂逻辑添加注释
- **代码整洁**: 保持代码的可读性和维护性

#### 2.2 错误处理 ⭐⭐
- **输入验证**: 对用户输入进行完整性检查
- **异常处理**: 合理处理可能的异常情况
- **友好提示**: 提供清晰的错误信息

### 3. 扩展性设计

#### 3.1 功能扩展 ⭐
- **模块化设计**: 便于添加新功能
- **接口预留**: 为可能的扩展功能预留接口
- **配置化**: 游戏参数可配置

## 📊 交付要求

### 1. 代码交付

#### 1.1 源代码文件
- **完整项目**: 包含所有源代码文件
- **项目文件**: Qt项目文件(.pro)或CodeBlocks项目文件(.cbp)
- **构建脚本**: 编译构建脚本
- **多文件管理**: 合理的头文件和源文件分离

#### 1.2 文档交付
- **README.md**: 项目介绍和使用说明
- **BUILD.md**: 详细的编译指南
- **代码注释**: 充分的内联注释
- **API文档**: 主要类和方法的说明

### 2. 功能演示

#### 2.1 演示内容 ⭐⭐⭐
- **基本功能**: 演示所有核心功能
- **异常处理**: 展示错误输入的处理
- **性能测试**: 测试不同盘子数量下的表现

#### 2.2 测试用例
- **功能测试**: 验证所有功能正常工作
- **边界测试**: 测试极端情况的处理
- **用户体验**: 确保界面友好易用

## 🎨 设计文档要求

### 1. UML设计图 ⭐⭐
- **类图**: 显示所有类的结构和关系
- **序列图**: 展示关键交互流程
- **用例图**: 描述系统功能需求

### 2. 系统架构图 ⭐
- **模块划分**: 清晰的模块边界
- **数据流**: 展示数据在系统中的流动
- **控制流**: 展示程序的控制逻辑

## ✅ 验收标准

### 1. 功能验收

| 功能模块 | 验收标准 | 优先级 |
|----------|----------|--------|
| 递归算法 | 生成正确的最优解，步数为2^n-1 | ⭐⭐⭐ |
| 演示功能 | 能够完整演示求解过程，支持控制操作 | ⭐⭐⭐ |
| 手动操作 | 支持用户手动移动，正确验证规则 | ⭐⭐⭐ |
| 界面显示 | 清晰显示游戏状态，操作直观 | ⭐⭐ |
| 错误处理 | 合理处理异常输入，友好提示 | ⭐⭐ |
| 游戏设置 | 支持盘子数量调整，参数配置 | ⭐ |

### 2. 技术验收

| 技术要求 | 验收标准 | 优先级 |
|----------|----------|--------|
| 代码架构 | 采用MVC模式，职责清晰 | ⭐⭐⭐ |
| 代码质量 | 命名规范，注释完整，逻辑清晰 | ⭐⭐ |
| 编译运行 | 能够在目标环境成功编译和运行 | ⭐⭐⭐ |
| 跨平台性 | 支持Windows/Linux/macOS | ⭐ |
| 性能表现 | 在合理时间内完成计算和显示 | ⭐⭐ |

### 3. 文档验收

| 文档类型 | 验收标准 | 优先级 |
|----------|----------|--------|
| 用户文档 | 包含安装、使用、功能说明 | ⭐⭐ |
| 开发文档 | 包含设计思路、技术选型说明 | ⭐⭐ |
| 代码文档 | 关键算法和复杂逻辑有详细注释 | ⭐⭐ |
| UML图 | 包含类图、序列图等设计图 | ⭐ |

## 🚀 项目里程碑

### 阶段一: 核心算法实现（40%）
- [ ] 递归算法实现
- [ ] 基本游戏逻辑
- [ ] 控制台版本基础功能

### 阶段二: 界面开发（30%）
- [ ] 用户界面设计
- [ ] 交互功能实现
- [ ] 视觉效果优化

### 阶段三: 功能完善（20%）
- [ ] 演示功能完善
- [ ] 错误处理和验证
- [ ] 性能优化

### 阶段四: 测试和文档（10%）
- [ ] 功能测试
- [ ] 文档编写
- [ ] 最终交付

## 💡 加分项

### 可选扩展功能
- **音效系统**: 移动音效和背景音乐
- **成就系统**: 记录最佳成绩和完成时间
- **主题切换**: 多种视觉主题选择
- **多语言支持**: 中英文界面切换
- **在线对战**: 多人竞速模式（高级）
- **AI对战**: 与AI比赛解题速度（高级）

### 技术创新
- **算法可视化**: 递归过程的可视化展示
- **3D效果**: 立体的游戏界面
- **移动端适配**: 支持触屏操作
- **Web版本**: 基于WebAssembly的网页版

---

**注意**: 标记⭐⭐⭐的为核心必需功能，⭐⭐为重要功能，⭐为可选功能。请优先实现高优先级功能，确保项目的基本可用性。 