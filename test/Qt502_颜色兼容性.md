# Qt Creator 5.0.2 颜色兼容性指南

## 🎨 颜色常量兼容性问题

### ❌ Qt 5.0.2 不支持的颜色常量

以下颜色常量在Qt 5.0.2中可能不存在：

```cpp
Qt::brown     // 棕色 - 不存在
Qt::orange    // 橙色 - 不存在  
Qt::gray      // 灰色 - 可能不稳定
```

### ✅ 解决方案：使用RGB值

**方法1: 使用QColor构造函数**
```cpp
// ❌ 不兼容
QBrush(Qt::brown)

// ✅ Qt 5.0.2兼容
QColor brownColor(139, 69, 19);   // 棕色
QBrush(brownColor)

// 或者直接使用
QBrush(QColor(139, 69, 19))
```

**方法2: 常用颜色RGB值表**
```cpp
// 棕色系
QColor brown(139, 69, 19);        // 标准棕色
QColor darkBrown(101, 67, 33);    // 深棕色
QColor lightBrown(205, 133, 63);  // 浅棕色

// 橙色系  
QColor orange(255, 165, 0);       // 标准橙色
QColor darkOrange(255, 140, 0);   // 深橙色

// 灰色系
QColor gray(128, 128, 128);       // 标准灰色
QColor lightGray(211, 211, 211);  // 浅灰色
QColor darkGray(169, 169, 169);   // 深灰色
```

## 🔧 已修复的颜色问题

### 1. 柱子颜色修复
```cpp
// ❌ 原代码
QBrush(Qt::brown)

// ✅ 修复后
QColor brownColor(139, 69, 19);
QBrush(brownColor)
```

### 2. 默认颜色修复
```cpp
// ❌ 原代码  
default: diskColor = Qt::gray;

// ✅ 修复后
default: diskColor = Qt::lightGray;
```

## 🎯 Qt 5.0.2 安全颜色列表

以下颜色在Qt 5.0.2中是安全的：

### 基础颜色
```cpp
Qt::black      // 黑色 ✅
Qt::white      // 白色 ✅  
Qt::red        // 红色 ✅
Qt::green      // 绿色 ✅
Qt::blue       // 蓝色 ✅
Qt::cyan       // 青色 ✅
Qt::magenta    // 洋红 ✅
Qt::yellow     // 黄色 ✅
```

### 深色系
```cpp
Qt::darkRed    // 深红 ✅
Qt::darkGreen  // 深绿 ✅
Qt::darkBlue   // 深蓝 ✅
Qt::darkCyan   // 深青 ✅
Qt::darkMagenta // 深洋红 ✅
Qt::darkYellow  // 深黄 ✅
```

### 灰色系
```cpp
Qt::lightGray  // 浅灰 ✅
Qt::darkGray   // 深灰 ✅ (但建议测试)
```

## 💡 最佳实践

### 1. 预定义颜色常量
在类中定义常用颜色：
```cpp
// 在头文件或类中定义
static const QColor TOWER_COLOR;
static const QColor BASE_COLOR;
```

### 2. 颜色工厂函数
```cpp
QColor getTowerColor() {
    return QColor(139, 69, 19);  // 棕色
}

QColor getDiskColor(int size) {
    switch (size % 10) {
        case 0: return Qt::red;
        case 1: return Qt::blue;
        // ... 其他颜色
        default: return Qt::lightGray;
    }
}
```

### 3. 颜色测试函数
```cpp
void testColors() {
    qDebug() << "Testing colors...";
    QColor brown(139, 69, 19);
    qDebug() << "Brown RGB:" << brown.red() << brown.green() << brown.blue();
}
```

## 🐛 调试建议

如果遇到颜色相关错误：

1. **检查颜色常量**: 确保使用的是Qt 5.0.2支持的常量
2. **使用RGB值**: 对于不确定的颜色，使用RGB值
3. **测试显示**: 运行程序检查颜色是否正确显示
4. **日志输出**: 使用qDebug()输出颜色值进行调试

## 🎨 推荐配色方案

为汉诺塔游戏推荐的Qt 5.0.2兼容配色：

```cpp
// 柱子
QColor(139, 69, 19)    // 棕色柱子

// 盘子颜色（按大小）
QColor(255, 0, 0)      // 红色 (盘子1)
QColor(0, 0, 255)      // 蓝色 (盘子2)  
QColor(0, 128, 0)      // 绿色 (盘子3)
QColor(255, 255, 0)    // 黄色 (盘子4)
QColor(255, 0, 255)    // 洋红 (盘子5)
QColor(0, 255, 255)    // 青色 (盘子6)
QColor(139, 0, 0)      // 深红 (盘子7)
QColor(0, 0, 139)      // 深蓝 (盘子8)
QColor(0, 100, 0)      // 深绿 (盘子9)
QColor(255, 165, 0)    // 橙色 (盘子10)

// 背景和UI
QColor(240, 248, 255)  // 浅蓝背景
QColor(128, 128, 128)  // 灰色底座
``` 