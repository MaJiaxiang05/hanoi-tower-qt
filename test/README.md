# 汉诺塔游戏

## 项目简介
这是一个用Qt C++实现的汉诺塔游戏，支持自动演示和手动操作两种模式。

## 功能特性
- **自动演示模式**：使用递归算法自动演示汉诺塔问题的最优解法
- **手动操作模式**：支持用户手动移动盘子，体验解决汉诺塔问题的乐趣
- **动态可视化**：实时显示盘子移动过程，包含精美的图形界面
- **规则验证**：自动检查移动的合法性，防止违规操作
- **多种设置**：支持1-10个盘子的游戏，可调节演示速度
- **操作日志**：详细记录每一步操作和游戏状态
- **成就系统**：显示当前步数与最优步数的对比

## 技术栈
- **开发语言**：C++17
- **UI框架**：Qt 6.x (Widgets + Graphics View Framework)
- **设计模式**：MVC架构模式
- **动画系统**：Qt Property Animation
- **图形渲染**：Qt Graphics Scene/View

## 项目结构
```
HanoiTower/
├── src/                    # 源代码目录
│   ├── main.cpp           # 程序入口
│   ├── mainwindow.h/cpp   # 主窗口类
│   ├── hanoitower.h/cpp   # 游戏逻辑类
│   ├── disk.h/cpp         # 盘子类
│   ├── tower.h/cpp        # 柱子类
│   └── gamecontroller.h/cpp # 游戏控制器类
├── forms/                  # UI界面文件
│   └── mainwindow.ui      # 主窗口UI文件
├── resources/              # 资源文件
│   └── resources.qrc      # 资源配置文件
├── bin/                    # 编译输出目录
├── build/                  # 构建中间文件目录
├── HanoiTower.pro         # Qt项目文件
└── README.md              # 项目说明文档
```

## 核心类设计

### 1. Disk (盘子类)
- 继承自 QGraphicsItem
- 负责盘子的可视化渲染和鼠标交互
- 支持拖拽操作和动画效果

### 2. Tower (柱子类) 
- 继承自 QGraphicsItem
- 管理柱子上的盘子栈
- 负责柱子的绘制和盘子位置计算

### 3. HanoiTower (游戏逻辑类)
- 继承自 QObject
- 实现汉诺塔游戏的核心逻辑
- 包含递归算法生成最优解

### 4. GameController (游戏控制器)
- 继承自 QObject  
- 控制演示模式的播放、暂停、停止
- 管理动画和用户交互

### 5. MainWindow (主窗口类)
- 继承自 QMainWindow
- 整合所有UI组件和游戏逻辑
- 处理用户界面交互

## 游戏规则
1. 目标：将所有盘子从柱子A移动到柱子C
2. 规则：
   - 一次只能移动一个盘子
   - 只能移动柱子顶部的盘子  
   - 大盘子不能放在小盘子上面

## 操作方法

### 手动模式
1. 点击源柱子选择要移动的盘子
2. 点击目标柱子完成移动
3. 游戏会自动验证移动的合法性

### 演示模式
1. 点击"开始演示"按钮
2. 系统自动演示最优解法
3. 可以暂停/继续演示过程
4. 可以调节演示速度

## 编译和运行

### 环境要求
- Qt 6.x 或更高版本
- 支持C++17的编译器 (MinGW/MSVC/GCC)
- Qt Creator (推荐)

### 编译步骤
1. 安装Qt开发环境
2. 打开Qt Creator
3. 导入项目文件 `HanoiTower.pro`
4. 配置构建套件
5. 编译并运行

### 命令行编译
```bash
# 生成Makefile
qmake HanoiTower.pro

# 编译项目
make

# 运行程序
./bin/HanoiTower
```

## 特色功能

### 视觉效果
- 精美的渐变色盘子设计
- 3D效果的柱子渲染
- 平滑的移动动画
- 高亮提示选中状态

### 用户体验
- 直观的点击操作
- 实时的操作反馈
- 详细的日志记录
- 友好的错误提示

### 扩展性
- 模块化的代码设计
- 易于添加新功能
- 支持不同数量的盘子
- 可配置的游戏参数

## 算法实现

### 递归解法
使用经典的汉诺塔递归算法：
```cpp
void solveRecursive(int n, int from, int aux, int to) {
    if (n == 1) {
        // 直接移动一个盘子
        moveDisk(from, to);
    } else {
        // 将前n-1个盘子移动到辅助柱
        solveRecursive(n-1, from, to, aux);
        // 移动最大的盘子
        moveDisk(from, to);
        // 将前n-1个盘子从辅助柱移动到目标柱
        solveRecursive(n-1, aux, from, to);
    }
}
```

### 时间复杂度
- 最优解步数：2^n - 1
- 时间复杂度：O(2^n)
- 空间复杂度：O(n) (递归栈)

## 版本信息
- 版本：v1.0
- 开发时间：2024年
- 开发语言：C++
- 界面框架：Qt

## 许可证
本项目仅供学习和研究使用。

## 作者
Qt汉诺塔游戏项目

---
享受汉诺塔游戏的乐趣吧！🎮 